/* Tailwind v3 entry points */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens */
:root {
  --background: #ffffff;
  --foreground: #171717;

  /* NHS colour tokens */
  --nhs-blue: #005EB8;       /* NHS Blue */
  --nhs-blue-dark: #003087;  /* Dark NHS Blue */
  --nhs-tint: #E6F0FA;       /* very light blue background */
}

/* Dark scheme */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Base element styles */
html, body { height: 100%; }

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Utility helpers */
.nhs-bg { background-color: #fff; }
.text-nhs-blue { color: var(--nhs-blue); }
.bg-nhs-blue { background-color: var(--nhs-blue); }
.bg-nhs-tint { background-color: var(--nhs-tint); }
.ring-nhs-tint { --tw-ring-color: var(--nhs-tint); }

/* Line clamping (no plugin needed) */
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* A11y helper */
.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap; border: 0; padding: 0; margin: -1px;
}

/* ---- Splash animations ---- */
@media (prefers-reduced-motion: no-preference) {
  /* Logo pop/fade-in used by the intro splash */
  @keyframes logo-pop {
    0%   { transform: scale(0.92); opacity: 0; }
    60%  { transform: scale(1.06); opacity: 1; }
    100% { transform: scale(1); }
  }
  .animate-logo-pop {
    animation: logo-pop 700ms cubic-bezier(.2,.8,.2,1) both;
  }

  /* Progress shimmer bar used by the intro splash */
  @keyframes splash-shimmer {
    0%   { transform: translateX(-100%); }
    100% { transform: translateX(300%); }
  }
  .animate-splash-shimmer {
    animation: splash-shimmer 1.2s ease-in-out infinite;
  }

  /* (Optional) keep old zoom anim if you use it elsewhere */
  @keyframes splash-zoom {
    0%   { transform: scale(0.96); opacity: 0.9; }
    60%  { transform: scale(1.02); opacity: 1; }
    100% { transform: scale(1); }
  }
  .animate-splash-zoom {
    animation: splash-zoom 600ms ease-out both;
  }
}
@media (prefers-reduced-motion: no-preference) {
  /* Logo pop (you may already have this) */
  @keyframes logo-pop {
    0% { transform: scale(0.92); opacity: 0; }
    60% { transform: scale(1.06); opacity: 1; }
    100% { transform: scale(1); }
  }
  .animate-logo-pop { animation: logo-pop 700ms cubic-bezier(.2,.8,.2,1) both; }

  /* NEW: title fade-up */
  @keyframes title-fade {
    0% { transform: translateY(4px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }
  .animate-title-fade { animation: title-fade 300ms ease-out 1 both; }

  /* NEW: soft halo pulse under logo */
  @keyframes halo {
    0% { transform: scale(0.95); opacity: .0; }
    40% { transform: scale(1.05); opacity: .7; }
    100% { transform: scale(1); opacity: .2; }
  }
  .animate-halo { animation: halo 900ms ease-out 1 both; }

  /* Optional: fade the page in under the splash for a crossfade */
  @keyframes page-fade {
    from { opacity: 0; }
    to   { opacity: 1; }
  }
  .animate-page-fade { animation: page-fade 300ms ease-out both; }
}
/* Fade-in utilities */
@keyframes mh-fade-in {
  from { opacity: 0; transform: translateY(8px) scale(0.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

.animate-mh-fade-in {
  animation: mh-fade-in 700ms ease-out both;
}

/* Optional stagger helpers */
.anim-delay-150 { animation-delay: 150ms; }
.anim-delay-300 { animation-delay: 300ms; }

/* Respect users who prefer less motion */
@media (prefers-reduced-motion: reduce) {
  .animate-mh-fade-in,
  .anim-delay-150,
  .anim-delay-300 {
    animation: none !important;
  }
}
